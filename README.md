# Multi-Video Person Tracking API

This is a FastAPI application that provides an API for tracking people across multiple videos.

> **DISCLAIMER:** ALL THE CODE IN THIS REPO WAS GENERATED BY GEMINI-CLI AND CHAT-GPT O3-PRO MODELS, WITH PROMPTS WRITTEN BY ME ( SEE PROMPTS TXT). 
WHILE I DO BELIEVE IN WRITING CODE MYSELF LIKE THE OLD DAYS, THIS IS HOW I DEVELOP THINGS TODAY AND IM PROUD OF IT. 


## Features

*   Upload videos for processing.
*   Detects people and objects in the videos.
*   Tracks people within and across videos.
*   Identifies anomalies such as changes in clothing or objects being carried.
*   Provides an API to retrieve tracking data and annotated videos.

## Example Videos (Links expire in 2 days)

*   [Example 1](https://streamable.com/mr35r6)
*   [Example 2](https://streamable.com/q8gcy4)

## API Endpoints

*   `POST /videos`: Upload a video for processing.
*   `GET /persons`: List all tracked persons and their appearances in videos.
*   `GET /persons/{pid}/anomalies`: Get anomalies for a specific person.
*   `GET /videos/{vid}/annotated`: Get the annotated video with tracking information.

## Setup

### Virtual Environment

It is recommended to use a virtual environment to install the dependencies.

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

### Docker (Tentative)

A Dockerfile is included for building a container image.

```bash
docker build -t multi-video-person-tracking .
docker run -p 8000:8000 multi-video-person-tracking
```

## Usage

Run the FastAPI application:

```bash
uvicorn api:app --host 0.0.0.0 --port 8000
```

Use a tool like `curl` or an API client to interact with the API.

### Upload a video

```bash
curl -X POST -F "file=@/path/to/your/video.mp4" http://localhost:8000/videos
```

### List persons

```bash
curl http://localhost:8000/persons
```
